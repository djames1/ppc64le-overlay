From 10e547ae9fbecaa2a3028a57ec56c104fc8e61ca Mon Sep 17 00:00:00 2001
From: Shawn Anastasio <shawnanastasio@yahoo.com>
Date: Fri, 10 Aug 2018 00:19:51 -0500
Subject: [PATCH] sandbox/linux/seccomp-bpf-helpers: Fix TCGETS declaration on
 PPC64

---
 .../syscall_parameters_restrictions.cc          | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

diff --git a/sandbox/linux/seccomp-bpf-helpers/syscall_parameters_restrictions.cc b/sandbox/linux/seccomp-bpf-helpers/syscall_parameters_restrictions.cc
index 2577f02f2e95..102647c14f14 100644
--- a/sandbox/linux/seccomp-bpf-helpers/syscall_parameters_restrictions.cc
+++ b/sandbox/linux/seccomp-bpf-helpers/syscall_parameters_restrictions.cc
@@ -36,6 +36,11 @@
 #include <sys/ioctl.h>
 #endif
 
+// On PPC64, TCGETS is defined in terms of struct termios, so we must include termios.h
+#ifdef __powerpc64__
+#include <termios.h>
+#endif
+
 #if defined(OS_ANDROID)
 
 #if !defined(F_DUPFD_CLOEXEC)

-- 
2.17.1

